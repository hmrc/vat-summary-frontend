@*
 * Copyright 2022 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import models.User
@import models.viewModels.WhatYouOweViewModel
@import views.html.templates.payments.WhatYouOweChargeRow

@this(mainTemplate: MainTemplate,
whatYouOweChargeRow: WhatYouOweChargeRow,
govukBreadcrumbs: GovukBreadcrumbs,
govukBackLink: GovukBackLink,
govukButton : GovukButton,
govukTable : GovukTable,
govukDetails: GovukDetails)

@(user: User, model: WhatYouOweViewModel, serviceInfoContent: Html, clientName: Option[String])(
implicit request: Request[_], messages: Messages, appConfig: config.AppConfig)

@breadcrumbs = {
@govukBreadcrumbs(Breadcrumbs(
items = Seq(
BreadcrumbsItem(
content = Text(messages("breadcrumbs.bta")),
href = Some(appConfig.btaHomeUrl)
),
BreadcrumbsItem(
content = Text(messages("vatDetails.title")),
href = Some(controllers.routes.VatDetailsController.details.url)
)
)
))
}

@backLink = {
@govukBackLink(BackLink(
href = appConfig.agentClientLookupHubUrl,
content = Text(messages("base.back"))
))
}

@PaymentHelp = {
<p class="govuk-body">@messages("whatYouOwe.details.agent.paymentHelpTwo")<a class="govuk-link" target="_blank" rel="noreferrer noopener" href="@appConfig.govUKDifficultiesPayingUrl">@messages("whatYouOwe.details.agent.paymentHelpThree")</a> @messages("whatYouOwe.details.agent.paymentHelpFour")</p>
}

@mainTemplate(
title = if(user.isAgent) messages("openPayments.agentTitle") else messages("openPayments.title"),
appConfig = appConfig,
serviceInfoContent = serviceInfoContent,
user = Some(user),
navLinkContent = if(user.isAgent) Some(backLink) else Some(breadcrumbs)
) {
<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        @clientName.map { name =>
        <span class="govuk-caption-xl">@name</span>
        }
        <h1 class="govuk-heading-xl">
            @if(user.isAgent) {@messages("whatYouOwe.agentTitle")} else {@messages("whatYouOwe.title")}
        </h1>

        <p class="govuk-body govuk-!-font-size-24">@messages("whatYouOwe.totalAmountToPay")</p>

        @govukTable(Table(
            rows = Seq(
        Seq(
        TableRow(
        content = Text("Total")
        ),
        TableRow(
        content = Text("Â£125"),
        format = Some("numeric")
        ))
            ),
            head = Some(Seq(
              HeadCell(
                content = Text(messages("whatYouOwe.headCell.paymentType"))
              ),
              HeadCell(
                content = Text(messages("whatYouOwe.headCell.amountDue"))
              )
            )),
        captionClasses = "govuk-table__caption--m"
  ))

        @if(user.isAgent){
            <p class="govuk-body">@messages("whatYouOwe.agent.anyPaymentsYouMake")</p>
        }else{
            <p class="govuk-body">@messages("whatYouOwe.anyPaymentsYouMake")</p>
        }

        <ul class="govuk-list govuk-list--bullet">
            <li>
                @messages("whatYouOwe.anyPaymentsYouMake.firstBullet")  <a class="govuk-link" target="_blank" rel="noreferrer noopener" href="@appConfig.govUkPayVATUrl">
                @if(user.isAgent){@messages("whatYouOwe.anyPaymentsYouMake.agent.firstBulletLink")</a>}else{@messages("whatYouOwe.anyPaymentsYouMake.firstBulletLink")}
            </li>
            <li>
                @if(user.isAgent){
                @messages("whatYouOwe.anyPaymentsYouMake.agent.secondBullet")
                ))
                }else{
                @messages("whatYouOwe.anyPaymentsYouMake.secondBullet")
                }
            </li>
        </ul>

                @if(user.isAgent){
                @govukDetails(Details(
                summary = Text(messages("whatYouOwe.details.agent.paymentHelpOne")),
                content = HtmlContent(PaymentHelp)
                ))
                }


        @govukButton(Button(
        content = Text(messages("whatYouOwe.makePayment"))
        ))

        @if(user.isAgent){
        <h3 class="govuk-heading-s">@messages("whatYouOwe.agent.isIncorrectOne")</h3>
        <p class="govuk-body">@messages("whatYouOwe.agent.isIncorrectTwo") <a class="govuk-link" target="_blank" rel="noreferrer noopener" href="@appConfig.govUKDifficultiesPayingUrl">@messages("whatYouOwe.agent.isIncorrectThree")</a></p>
        <p class="govuk-body">@messages("whatYouOwe.agent.isIncorrectFour")</p>
        } else {
        <h3 class="govuk-heading-s">@messages("whatYouOwe.ifYouCannotPayOne")</h3>
        <p class="govuk-body">@messages("whatYouOwe.ifYouCannotPayTwo") <a class="govuk-link" target="_blank" rel="noreferrer noopener" href="@appConfig.govUKDifficultiesPayingUrl">@messages("whatYouOwe.ifYouCannotPayThree")</a> @messages("whatYouOwe.ifYouCannotPayFour")</p>
        <h3 class="govuk-heading-s">@messages("whatYouOwe.isIncorrectOne")</h3>
        <p class ="govuk-body">@messages("whatYouOwe.isIncorrectTwo") <a class="govuk-link" target="_blank" rel="noreferrer noopener" href="@appConfig.govUKCorrections">@messages("whatYouOwe.isIncorrectThree")</a></p>
        <p class ="govuk-body">@messages("whatYouOwe.isIncorrectFour") <a class="govuk-link" target="_blank" rel="noreferrer noopener" href="">@messages("whatYouOwe.isIncorrectFive")</a></p>
        }

    </div>
</div>

}